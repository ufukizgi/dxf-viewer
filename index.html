<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DXF Viewer - Professional CAD Viewer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/",
                "dxf-parser": "https://esm.sh/dxf-json",
                "dxf-parser/": "https://esm.sh/dxf-json/"
            }
        }
    </script>
</head>

<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <div class="file-upload-container">
                    <label for="file-input" class="file-open-btn" title="Open File" data-i18n-title="openFile">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"
                                stroke-width="2" />
                        </svg>
                    </label>
                    <input type="file" id="file-input" accept=".dxf,.dwg" hidden>
                    <span id="file-name" class="file-name" data-i18n="noFileSelected">No file selected</span>
                </div>
            </div>

            <!-- Loader Overlay -->
            <div id="conversion-loader"
                class="fixed inset-0 bg-black/80 backdrop-blur-sm z-[9999] hidden flex flex-col items-center justify-center">
                <div class="loader-spinner mb-4"></div>
                <div class="text-white text-lg font-medium animate-pulse" data-i18n="converting">D√∂n√º≈üt√ºr√ºl√ºyor...</div>
            </div>

            <div class="header-center">
                <div class="header-tools">
                    <!-- Measure Dropdown -->
                    <div class="relative group" id="measure-dropdown-container">
                        <button class="icon-btn tool-btn" id="measure-menu-btn" title="Measurement Tools"
                            data-i18n-title="measureTools">
                            <!-- Custom SVG provided by user -->
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M1 3 V21"></path>
                                <path d="M23 3 V21"></path>
                                <path d="M8 8 L3 12 L8 16"></path>
                                <path d="M16 8 L21 12 L16 16"></path>
                                <path d="M3 12 H21"></path>
                            </svg>
                        </button>

                        <!-- Dropdown Menu -->
                        <div class="hidden absolute top-full left-0 mt-2 p-1.5 rounded-xl bg-gray-900/95 backdrop-blur-xl border border-white/10 shadow-2xl min-w-[200px] flex flex-col gap-1 z-50"
                            id="measure-dropdown-menu">

                            <!-- Linear -->
                            <button
                                class="w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/5 transition-colors text-left"
                                data-tool="distance">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <path d="M1 3 V21" />
                                    <path d="M23 3 V21" />
                                    <path d="M8 8 L3 12 L8 16" />
                                    <path d="M16 8 L21 12 L16 16" />
                                    <path d="M3 12 H21" />
                                </svg>
                                <span class="text-sm font-medium text-white" data-i18n="measureDistance">Linear</span>
                            </button>

                            <!-- Angle -->
                            <button
                                class="w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/5 transition-colors text-left"
                                data-tool="angle">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <path d="M18 3 L3 22 L22 22" />
                                    <path d="M9 14 A5 5 30 0 1 12 22" fill="none" />
                                </svg>
                                <span class="text-sm font-medium text-white" data-i18n="measureAngle">Angle</span>
                            </button>

                            <!-- Radius -->
                            <button
                                class="w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/5 transition-colors text-left"
                                data-tool="radius">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <circle cx="12" cy="12" r="10" />
                                    <line x1="12" y1="12" x2="22" y2="12" />
                                    <text x="14" y="10" font-size="8" fill="white" stroke="none">R</text>
                                </svg>
                                <span class="text-sm font-medium text-white" data-i18n="measureRadius">Radius</span>
                            </button>

                            <!-- Diameter -->
                            <button
                                class="w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/5 transition-colors text-left"
                                data-tool="diameter">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <circle cx="12" cy="12" r="10" />
                                    <line x1="2" y1="12" x2="22" y2="12" />
                                    <path d="M4 10 L2 12 L4 14" />
                                    <path d="M20 10 L22 12 L20 14" />
                                    <text x="11" y="10" font-size="8" fill="white" stroke="none">√ò</text>
                                </svg>
                                <span class="text-sm font-medium text-white" data-i18n="measureDiameter">Diameter</span>
                            </button>

                            <!-- Visible Surface -->
                            <button
                                class="w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/5 transition-colors text-left"
                                data-tool="area">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <rect x="2" y="2" width="20" height="20" />
                                    <path d="M2 2 L22 22" />
                                    <path d="M22 2 L2 22" />
                                </svg>
                                <span class="text-sm font-medium text-white" data-i18n="measureArea">Visible
                                    Surface</span>
                            </button>

                            <hr class="border-white/10 my-1">

                            <!-- Weight Calculation (Moved to Dropdown) -->
                            <button
                                class="w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/5 transition-colors text-left opacity-50 cursor-not-allowed group-is-disabled"
                                id="weight-btn" title="Calculate Weight" data-i18n-title="weightBtn">
                                <!-- User provided SVG, adapted fill to currentColor for dark mode -->
                                <svg width="18" height="18" viewBox="0 0 76 76" xmlns="http://www.w3.org/2000/svg"
                                    version="1.1" fill="currentColor">
                                    <path stroke-width="0.2" stroke-linejoin="round"
                                        d="M 38.7916,15.8334C 40.5405,15.8334 40.375,17.2511 40.375,19L 40.4805,22.1667L 58.5833,22.1667L 58.5833,25.3333L 56.5258,25.3333L 64.9167,45.125C 64.9167,48.1856 59.8717,50.6667 54.625,50.6667C 49.3783,50.6667 44.3333,48.1856 44.3333,45.125L 52.7242,25.3333L 40.5861,25.3333L 41.5394,53.9324C 47.6545,54.3801 52.25,56.2923 52.25,58.5833L 25.3333,58.5833C 25.3333,56.2923 29.9288,54.3801 36.0439,53.9324L 36.9972,25.3333L 23.2758,25.3334L 31.6667,45.125C 31.6667,48.1856 26.6217,50.6667 21.375,50.6667C 16.1283,50.6667 11.0833,48.1856 11.0833,45.125L 19.4742,25.3334L 17.4167,25.3333L 17.4167,22.1667L 37.1027,22.1667L 37.2083,19C 37.2083,17.2511 37.0427,15.8334 38.7916,15.8334 Z M 61.2191,45.125L 55.4167,30.7634L 55.4167,45.125L 61.2191,45.125 Z M 48.0308,45.125L 53.8333,45.125L 53.8333,30.7634L 48.0308,45.125 Z M 27.9691,45.125L 22.1667,30.7634L 22.1667,45.125L 27.9691,45.125 Z M 14.7808,45.125L 20.5833,45.125L 20.5833,30.7634L 14.7808,45.125 Z " />
                                </svg>
                                <span class="text-sm font-medium text-white" data-i18n="weightBtn">Weight Calc.</span>
                            </button>

                        </div>
                    </div>

                    <!-- Print Button -->
                    <button class="icon-btn tool-btn" id="print-btn" title="Print" data-i18n-title="print">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M6 9V2h12v7" />
                            <path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2" />
                            <rect x="6" y="14" width="12" height="8" />
                        </svg>
                    </button>
                </div>

                <!-- Layers Dropdown -->
                <div class="relative layers-dropdown ml-2 border-l border-white/10 pl-2">
                    <button id="layers-toggle" class="icon-btn tool-btn" title="Layers" data-i18n-title="layers">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" stroke-width="2" />
                        </svg>
                    </button>
                    <div id="layers-menu"
                        class="settings-menu hidden absolute top-full left-1/2 -translate-x-1/2 mt-2 p-4 rounded-xl bg-gray-900/95 backdrop-blur-xl border border-white/10 shadow-2xl min-w-[240px]"
                        style="z-index: 1000;">
                        <h3 class="text-sm font-semibold mb-3 text-white">Layers</h3>
                        <div id="layers-panel" class="space-y-2 scrollable-panel" style="max-height: 300px;">
                            <p class="empty-state">No layers available</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="header-right flex items-center gap-3">
                <div class="relative group" id="zoom-dropdown-container">
                    <button class="icon-btn tool-btn" id="zoom-menu-btn" title="Zoom Tools"
                        data-i18n-title="zoomExtents">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                        </svg>
                    </button>
                    <!-- Dropdown Menu -->
                    <div class="hidden absolute top-full left-0 mt-2 p-1.5 rounded-xl bg-gray-900/95 backdrop-blur-xl border border-white/10 shadow-2xl min-w-[160px] flex flex-col gap-1 z-50"
                        id="zoom-dropdown-menu">

                        <!-- Zoom Extents -->
                        <button
                            class="w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/5 transition-colors text-left"
                            id="zoom-extents-btn">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7" />
                            </svg>
                            <span class="text-sm font-medium text-white" data-i18n="zoomExtents">Fit View</span>
                        </button>

                        <!-- Zoom Window -->
                        <button
                            class="w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/5 transition-colors text-left"
                            id="zoom-window-btn">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <circle cx="11" cy="11" r="8"></circle>
                                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                                <rect x="8" y="8" width="6" height="6" stroke-dasharray="2 2" stroke-width="1"></rect>
                            </svg>
                            <span class="text-sm font-medium text-white" data-i18n="zoomWindow">Zoom Window</span>
                        </button>
                    </div>
                </div>



                <div id="language-selector-container" class="relative"></div>
            </div>
        </header>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Sidebar -->
            <aside class="sidebar" id="sidebar">
                <div class="sidebar-header flex justify-between items-center mb-4 px-1">
                    <h3 class="text-sm font-semibold text-white">Sidebar</h3>
                    <button id="sidebar-close-btn"
                        class="p-1 rounded-md hover:bg-white/10 text-gray-400 hover:text-white transition-colors"
                        title="Close Sidebar" data-i18n-title="closeSidebar">
                        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M18 6L6 18M6 6l12 12" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                    </button>
                </div>
                <!-- Layers moved to Header -->

                <!-- Object Info / Measurement Panel -->
                <div class="panel">
                    <div class="panel-header">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M17 3l4 4L7 21l-4-4L17 3z" stroke-width="2" />
                        </svg>
                        <h3 data-i18n="objectInfo">Object Info</h3>
                    </div>
                    <div class="panel-content" id="measurement-panel">
                        <!-- Tools moved to header -->
                        <div id="measurement-result" class="measurement-result">
                            <p class="empty-state" data-i18n="clickObjectInfo">Click an object to view info</p>
                        </div>
                    </div>
                </div>

                <!-- Weight Calculation Panel (shows only when closed geometry is selected) -->
                <div id="weight-panel" class="panel flex-1 min-h-0 flex flex-col mt-4 hidden">
                    <div class="panel-header">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M20.9 19.1L4.1 19c-1 0-1.7.9-1.5 1.9L2.9 22H21l.4-1.1c.1-1-.6-1.8-1.5-1.8z" />
                            <path d="M16 11l-4-7-4 7" />
                            <path d="M12 4v15" />
                        </svg>
                        <h3 data-i18n="weightTitle">Weight Calculation</h3>
                    </div>
                    <div class="panel-content flex-1 overflow-y-auto p-2 space-y-2">
                        <!-- Material Selector -->
                        <div
                            class="bg-gradient-to-l from-white/10 to-transparent rounded-lg p-1 flex justify-between items-center mt-2 border border-white/5">
                            <span class="text-gray-200 font-medium whitespace-nowrap mr-2"
                                data-i18n="material">Material</span>
                            <div class="relative flex-1 max-w-[65%]">
                                <select id="material-selector"
                                    class="w-full bg-black/20 border border-white/10 rounded px-2 py-1 text-right text-sm text-cyan-400 focus:outline-none focus:border-cyan-500 transition-colors cursor-pointer appearance-none pr-6 font-mono">
                                    <!-- Options will be populated by JS -->
                                </select>
                                <div
                                    class="absolute inset-y-0 right-0 flex items-center px-1 pointer-events-none text-gray-400">
                                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M19 9l-7 7-7-7"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <!-- Temper Selector -->
                        <div
                            class="bg-gradient-to-l from-white/10 to-transparent rounded-lg p-1 flex justify-between items-center mt-2 border border-white/5">
                            <span class="text-gray-200 font-medium whitespace-nowrap mr-2"
                                data-i18n="temper">Temper</span>
                            <div class="relative flex-1 max-w-[65%]">
                                <select id="temper-selector"
                                    class="w-full bg-black/20 border border-white/10 rounded px-2 py-1 text-right text-sm text-cyan-400 focus:outline-none focus:border-cyan-500 transition-colors cursor-pointer appearance-none pr-6 font-mono">
                                    <!-- Options will be populated by JS -->
                                </select>
                                <div
                                    class="absolute inset-y-0 right-0 flex items-center px-1 pointer-events-none text-gray-400">
                                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M19 9l-7 7-7-7"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <hr class="border-white/10 mt-3">

                        <!-- Mandrel -->
                        <div
                            class="bg-gradient-to-l from-white/10 to-transparent rounded-lg p-1 flex justify-between items-center mt-2 border border-white/5">
                            <span class="text-gray-200 font-medium" data-i18n="mandrel">Zƒ±vana (Mandrel)</span>
                            <div class="text-right">
                                <span class="text-cyan-400 font-mono" id="val-mandrel">0</span>
                            </div>
                        </div>

                        <!-- Area -->
                        <div
                            class="bg-gradient-to-l from-white/10 to-transparent rounded-lg p-1 flex justify-between items-center mt-2 border border-white/5">
                            <span class="text-gray-200 font-medium" data-i18n="area">Net Area</span>
                            <div class="text-right">
                                <span class="text-cyan-400 font-mono" id="val-area">0.00</span>
                                <span class="text-xs text-gray-500 ml-1" data-i18n="unitMm2">mm¬≤</span>
                            </div>
                        </div>

                        <!-- Weight -->
                        <div
                            class="bg-gradient-to-l from-white/10 to-transparent rounded-lg p-1 flex justify-between items-center mt-2 border border-white/5">
                            <span class="text-gray-200 font-medium" data-i18n="weight">Weight</span>
                            <div class="text-right">
                                <span class="text-cyan-400 font-mono" id="val-weight">0.000</span>
                                <span class="text-xs text-gray-500 ml-1" data-i18n="unitKgM">kg/m</span>
                            </div>
                        </div>

                        <!-- Bounding Circle Diameter -->
                        <div
                            class="bg-gradient-to-l from-white/10 to-transparent rounded-lg p-1 flex justify-between items-center mt-2 border border-white/5">
                            <span class="text-gray-200 font-medium">DU (√ò)</span>
                            <div class="text-right">
                                <span class="text-cyan-400 font-mono" id="val-diameter">0.00</span>
                                <span class="text-xs text-gray-500 ml-1">mm</span>
                            </div>
                        </div>

                        <!-- Outer Perimeter -->
                        <div
                            class="bg-gradient-to-l from-white/10 to-transparent rounded-lg p-1 flex justify-between items-center mt-2 border border-white/5">
                            <span class="text-gray-200 font-medium" data-i18n="outerPerimeter">Dƒ±≈ü √áevre</span>
                            <div class="text-right">
                                <span class="text-cyan-400 font-mono" id="val-perimeter">0.00</span>
                                <span class="text-xs text-gray-500 ml-1">mm</span>
                            </div>
                        </div>

                        <!-- Shape Factor -->
                        <div
                            class="bg-gradient-to-l from-white/10 to-transparent rounded-lg p-1 flex justify-between items-center mt-2 border border-white/5">
                            <span class="text-gray-200 font-medium" data-i18n="shapeFactor">≈ûekil Fakt√∂r√º</span>
                            <div class="text-right">
                                <span class="text-cyan-400 font-mono" id="val-shapefactor">0.00</span>
                            </div>
                        </div>

                        <!-- Total Perimeter -->
                        <div
                            class="bg-gradient-to-l from-white/10 to-transparent rounded-lg p-1 flex justify-between items-center mt-2 border border-white/5">
                            <span class="text-gray-200 font-medium" data-i18n="totalPerimeter">Toplam √áevre</span>
                            <div class="text-right">
                                <span class="text-cyan-400 font-mono" id="val-totalperimeter">0.00</span>
                                <span class="text-xs text-gray-500 ml-1">mm</span>
                            </div>
                        </div>
                    </div>

                    <!-- Add Template Button (fixed at bottom) -->
                    <div class="p-3 border-t border-white/10 mt-auto">
                        <button id="add-template-btn"
                            class="w-full bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white font-medium py-2 px-4 rounded-lg transition-all duration-200 flex items-center justify-center gap-2">
                            <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 5v14M5 12h14" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                            <span data-i18n="addTemplate">Antet Ekle</span>
                        </button>
                    </div>
                </div>

                <!-- Scale Display Panel (shows during template placement mode) -->
                <div id="scale-panel" class="panel flex-1 min-h-0 flex flex-col mt-4 hidden">
                    <div class="panel-header">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 3L3 21" />
                            <path d="M21 3h-6m6 0v6" />
                            <path d="M3 21h6m-6 0v-6" />
                        </svg>
                        <h3 data-i18n="scale">√ñl√ßek</h3>
                    </div>
                    <div class="panel-content flex-1 overflow-y-auto p-3 space-y-4">
                        <div class="text-center text-gray-400 text-sm mb-4" data-i18n="scrollToScale">
                            √ñl√ßeklemek i√ßin scroll kullanƒ±n
                        </div>

                        <!-- Template Scale -->
                        <div
                            class="bg-gradient-to-l from-white/10 to-transparent rounded-lg p-3 flex justify-between items-center border border-white/5">
                            <span class="text-gray-200 font-medium" data-i18n="templateScale">≈ûablon √ñl√ßeƒüi</span>
                            <div class="text-right">
                                <span class="text-cyan-400 font-mono text-xl" id="val-scale">1:1</span>
                            </div>
                        </div>

                        <div class="text-center text-gray-400 text-sm mt-4" data-i18n="clickToPlace">
                            Yerle≈ütirmek i√ßin tƒ±klayƒ±n
                        </div>
                    </div>
                </div>
            </aside>

            <!-- Viewport -->
            <main class="viewport-container" id="viewport-container">
                <button id="sidebar-floating-toggle"
                    class="absolute top-4 left-4 z-50 p-2 rounded-lg bg-gray-900/90 border border-white/10 text-white shadow-lg hover:bg-gray-800 transition-all hidden"
                    title="Show Sidebar" data-i18n-title="showSidebar">
                    <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M4 6h16M4 12h16m-7 6h7" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round" />
                    </svg>
                </button>
                <canvas id="viewport" class="viewport-canvas"></canvas>
                <div class="overlay-logo">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M3 3h18v18H3z M3 9h18 M9 3v18" stroke-width="2" />
                    </svg>
                    <h1 data-i18n="appTitle">DXF Viewer</h1>
                </div>
                <div class="viewport-overlay" id="viewport-overlay">
                    <div class="help-text">
                        <p data-i18n="helpPan">üñ±Ô∏è <strong>Pan:</strong> Click and drag</p>
                        <p data-i18n="helpZoom">üîç <strong>Zoom:</strong> Mouse wheel</p>
                        <p data-i18n="helpLoad">üìÅ <strong>Load:</strong> Click "Open DXF File" above</p>
                        <p data-i18n="helpLoad">üìÅ <strong>Load:</strong> Click "Open DXF File" above</p>
                    </div>
                </div>
                <!-- Selection Box -->
                <div id="selection-box" class="selection-box hidden"></div>
            </main>
        </div>

        <!-- Footer with OSNAP Dropdown -->
        <footer class="footer">
            <div class="footer-left">
                <span id="cursor-coords" class="coords">X: 0.000 | Y: 0.000</span>
            </div>
            <div class="footer-center">
                <span id="status-text" class="status" data-i18n="ready">Ready</span>
            </div>
            <div class="footer-right flex items-center gap-4">
                <span id="zoom-level" class="zoom"><span data-i18n="zoom">Zoom</span>: 100%</span>
            </div>
        </footer>
    </div>



    <!-- Template Selection Popup -->
    <div id="template-popup"
        class="hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-[9999] flex items-center justify-center">
        <div class="bg-gray-900/95 border border-white/10 rounded-xl shadow-2xl p-5 w-[320px]">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-sm font-semibold text-white" data-i18n="selectTemplate">Antet Se√ß</h3>
                <button id="template-popup-close" class="text-gray-400 hover:text-white transition-colors">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>

            <div class="space-y-4">
                <div>
                    <label class="block text-xs text-gray-400 mb-1" data-i18n="templateFile">Antet Dosyasƒ±</label>
                    <select id="template-selector"
                        class="w-full bg-black/20 border border-white/10 rounded px-2 py-2 text-sm text-white focus:outline-none focus:border-blue-500 transition-colors cursor-pointer">
                        <option value="" data-i18n="loadingTemplates">Y√ºkleniyor...</option>
                    </select>
                </div>

                <div class="flex gap-2 mt-4">
                    <button id="template-cancel-btn"
                        class="flex-1 bg-gray-700 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded-lg transition-colors"
                        data-i18n="cancel">ƒ∞ptal</button>
                    <button id="template-ok-btn"
                        class="flex-1 bg-blue-600 hover:bg-blue-500 text-white font-medium py-2 px-4 rounded-lg transition-colors"
                        data-i18n="ok">Tamam</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modules -->
    <script type="module" src="src/dxf-loader.js"></script>
    <script type="module" src="src/localization.js"></script>
    <script type="module" src="src/main.js"></script>
</body>

</html>